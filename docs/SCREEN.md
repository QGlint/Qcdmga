---
layout: default
title: 关于使用过转播方案的一些介绍
---

## 前言

在以往的活动中，由于大家设备有限，手机是我们将比赛或者其他的一些游玩场景拍摄后转播到大屏幕（也可以叫投屏）使用的拍摄设备。

针对手机，常见的转播手段包括投屏和串流，对于我们的场地而言，有线方案可能会比较麻烦，因此之前的主要采用一些无线的方案。

此前采用的方案主要是小米手机的[小米互联互通的串流](#手机厂商的设备互联方案)和[腾讯会议的投屏](#线上投屏会议软件)方案。

## 简单的方案

其实用手机算比较麻烦的，你们要是能有支持usb协议比较高清的摄像头，还有**足够长的usb转接线**，就可以直接愉快的使用USB方案来完成投屏了，免驱的摄像头更方便，教室的电脑都能即插即用，不过这算有线方案，就看现场布线喽。

>蛐蛐：其实面试摄像头的1080P真的蛮糊的,对应的是200W像素(2MP)，即使是4K，也才达到了1600W像素(16MP)，而4K的USB摄像头的成本是比较高的，而手机摄像头像素随便5000W像素（50MP）以上，因此如何选择就见仁见智了。

## 串流OR投屏

### 投屏

投屏方案的主要目的是将手机屏幕内容完整地显示在电脑或其他大屏设备上，在这个方案下使用相机，就能够将手机拍摄的画面传到电脑上，这么做的缺点，是手机需要亮屏，前台调用摄像头，屏幕耗电占比比较大。

这种情况下的延迟由软件方案和调用的硬件决定，具体的会在后面提到。

### 串流

串流方案是软件后台调用手机摄像头，并将摄像头的输入直接通过软件和硬件传输到电脑上，这种方案的兼容性由进行串流的软件解决方案来保证，与投屏相比，串流可以在手机熄屏的情况下将摄像头的画面直接传输到电脑上，屏幕耗电占比小。

串流的延迟也由软件方案和调用的硬件决定。

## 有线方案

无论如何，有线的方案的延迟都会更小，同时只要数据线支持，可以在功耗不是很高的情况下输出比较高的分辨率和帧率，码率会比较理想。但由于场地的限制，我们带一个长四五米的数据线是不现实也不好布置场地的，因此简要介绍这个方案。

### 有USB3.0的手机

大部分具有usb3.0的手机，只要你有一个支持usb3.0的线（我们的设备情况下需要usb3.0转HDMI或DP），你就可以原生的使用手机的有线投屏，三星系列和华为、荣耀的支持usb3.0的手机还有异步投屏功能，足够支持你只在投屏设备上使用摄像机。

各家支持usb3.0的手机大体如下：

| 型号   | 系列                |
| ---- | ----------------- |
| 华为   | mate9系列以后大部分      |
| 三星   | s9以后的旗舰机          |
| 小米   | 小米14以后的旗舰机        |
| 荣耀   | 荣耀20以后大部分         |
| vivo | vivo X80以后的大部分    |
| oppo | oppo find 8以后的大部分 |

笔者的信息可能有一些偏差，部分冷门手机没有收集到，具体手机支持的usb协议可以在官网查询相关型号或者咨询对应品牌客服。

### 采集卡方案

如果手机不具有usb3.0，想要比较优秀的有线投屏效果，可以使用采集卡方案。采集卡方案通过使用专业的视频采集卡，将手机摄像头的画面以有线的方式采集并传输到电脑上。采集卡作为中间设备，能够接收手机输出的视频信号，并将其转换为电脑能够识别的数字信号，从而实现画面的实时传输。

采集卡方案需要购买支持手机有线直连投屏的视频采集卡（如EZCast CatchU视频采集卡），接着将手机通过数据线（如Type-C线）连接到采集卡，再将采集卡通过USB线或HDMI线连接到电脑。部分采集卡可能需要额外的电源供电，按照说明书进行连接。

>采集卡方案的本质是一种硬件串流方案，也可以应用于摄像机和电脑上。

### 有线软件投屏方案

根据搜索结果，投票软件ApowerMirror、Vysor、Scrcpy支持usb的投屏，只要打开usb调试即可，但是由于笔者没有尝试过，全网的搜索结果和官网的技术支持均没有确认的信息支持usb2.0，因此只支持usb2.0的手机能否使用此方案投屏存疑。

## 无线方案

无线方案的灵活性好，由于我们转播的是音游的游玩画面，较少的线影响场地对整个游玩体验会好很多。但是相较于有线方案，无限方案势必会有较大的延迟。

### 无线投屏

由于蓝牙连接方案的信道带宽和传输速率感人（你们学的相关专业课，应该比我更懂一些），所以市面上的投屏方案主要采用的是WiFi方案，常见有的乐播投屏、ApowerMirror（傲软投屏）等。

#### 手机厂商的设备互联方案投屏

手机厂商针对设备互联对各自的系统都进行了一些调整，往往这些系统自带的互联软件相比于通用投屏软件都会有比较好的性能，华为和小米的投屏做的都蛮不错的，，vivo、荣耀、oppo由于笔者没使用过，因此不做讨论。

这些软件往往可以最大限度地调用硬件来实现互联，同时延迟、画面清晰度和流畅度都较好，但这对电脑的网卡性能和稳定性提出了一些要求。

华为和小米的设备互联有品牌限制，因此如果想要在第三方品牌的电脑上使用对应手机品牌的设备互联，需要在电脑上下载对应软件，并参考安装教程安装。笔者只安装过小米电脑管家，因此只会在后面贴出对应的安装连接教程。

>小米设备互联的电脑端软件安装在[这里](#小米设备互联)

顺带一提，iphone小米电脑的适配甚至比小米手机更好，当然苹果自己的无线投屏也不差，iphone如果是使用windows电脑可以尝试一下小米的设备互联。

#### 通用投屏软件

此类投屏软件通常需要保持在同一个WiFi下进行投屏，这意味着路由器理论上承担着数据转发功能，由此路由器需要耗费双倍的带宽提供给投屏，投屏的传输带宽会受到路由器带宽的限制，由于经历一次转发，传输延迟自然也会有。

当然你可以尝试通过手机热点的方式进行投屏，由于投屏要保证屏幕亮，手机的功耗此时会比较令人难以忽视。

>乐播投屏使用的Miracast协议理论上支持点对点通信，只需要在同一wifi下建立连接即可点对点直接通信而不需要经过路由器转发，但是由于笔者没有尝试过这个方案，无法判断这个方案具体情况。

#### 线上投屏会议软件

使用腾讯会议等会议软件也可以进行屏幕的投屏，但是腾讯会议的所有数据都是要通过腾讯的服务器进行一次转发的，因此有一下缺点：

 1. 经过路由器转发一次的延迟已经比较大了，通过搭建位置较远的腾讯服务器进行转发，显然会有更大的延迟。
 2. 由于大公司的数据传输要降本增笑，显然你传输的画面会经历极大的压缩，腾讯不会好心的把带宽全给你用，我们上一次传输的效果下本地串流的720p的清晰度比腾讯传输压缩之后的2K的画面要清晰的。此外一些压缩算法耗费的时间也会进一步耗费时间。
 3. 整个转播效果不仅受到你本地的网络影响，也会受到整个大的网络环境影响，这是不可控的。

#### 投屏的相机软件选择

PS2：如果你想要使用投屏方案，你会发现被投屏的界面的内容方向受到投屏终端的影响，而手机默认相机无论如何更改手机的方向，在手机的识别下你的相机是默认朝上的，因此你的默认相机无法横屏投屏，要解决这个问题我们在一众相机中发现google原生的Gcam（谷歌相机）能够适配横屏，因此采用投屏方案需要安装一个谷歌相机，下述酷安大佬的网页有下载连接，或者你直接上google play下载即可。

>[标题... 来自 郎佳子彧卿 - 酷安](https://www.coolapk.com/feed/39207501?shareKey=ZDRiYWFhNWY1NGI1NjMxZjE4MWE~&shareUid=3371959&shareFrom=com.coolapk.market_12.4.3)

### 无线串流

无线串流依然是通过软件实现的，传输的延迟可能较投屏有所改观，由于后台运行，屏幕的耗电也不需要，但是仍然受到硬件的制约。

#### 手机厂商的设备互联方案

如果软件采用的依然是路由器转发的策略，那么双倍转发带来的延迟依然存在。因此如果各家手机的设备互联方案支持直接串流手机摄像机的画面，那么再好不过。

>小米设备互联的电脑端软件安装在[这里](#小米设备互联)

PS：笔者曾经在尝试用投屏打开摄像机的时候不小心打开了win11的摄像机，结果电脑跳出了是否串流手机摄像机的选项，因此误打误撞发现了小米手机设备互联的相机串流功能，其他的品牌我猜可能会有，但由于笔者没有相关设备，因此你可以参考笔者的经历，下载电脑对应的互联软件后连接完成打开win11的摄像机软件尝试一下。

#### 腾讯会议等

线上会议软件可以直接调用摄像头，但是正如前面所讨论的，这些软件会有极大的延迟，同时会极大的压缩视频，根据腾讯那边的服务器压力和网络带宽压力，有可能给你压缩到AV画质也不一定，效果不如腾讯会议投屏好。

#### 其他串流方案

使用其他的软件也可以将图像投放出去，例如开源软件RemoteCam，可以将手机录像画面实时传输到PC端。在手机上安装RemoteCam软件，打开软件点击“Stream”按钮，复制软件显示的IP地址，粘贴到电脑浏览器中，即可在电脑浏览器中看到手机摄像头的画面。或者考虑使用OBS Studio手机摄像头的画面采集到电脑上，再进行串流。

以上的软件方案仅来自笔者搜索，均没有经过笔者的验证，因此如果考虑使用需要提前查阅资料进行验证。

### 无线方案注意的内容

1. 无线方案无论如何都要靠wifi作为传输硬件，因此在串流效果好的情况下，意味着硬件被高效的调用了，可能会带来较大的发热，手机系统会在发热大的时候杀掉后台发热严重的软件，因此会造成转播中断，因此在上一次比赛是笔者借用了一个半导体散热架才保证了全称投屏不断。如果传输的视频较差则发热反而小。
2. 手机的设备互联由于技术比较新，需要电脑的网卡至少达到比较不错的带宽和性能才能用
3. 手机投屏下由于手机亮屏，耗电往往更加过分。

### 小米设备互联

在MIUI13以后的小米系统均支持MIUI+的设备互联，而在澎湃系统中直接更名为了设备互联，电脑上与MIUI设备互联的软件可以在[Xiaomi HyperConnect 跨端智联](https://hyperos.mi.com/continuity)页面底部下载小米电脑管家，然后在下面的教程里只下载补丁包【wtsapi32.dll】，然后将补丁包放在电脑管家安装包同一文件夹下即可完成安装。

完成安装之后，补丁【wtsapi32.dll】需要放在安装后的[软件启动器目录](#软件启动器目录)和[软件本体目录](#软件本体目录)。

#### 软件启动器目录

默认安装下为**C:\Program Files\MI\XiaomiPCManager**，

#### 软件本体目录

默认安装下为**C:\Program Files\MI\XiaomiPCManager\\[版本号]**

#### 图文教程

图文教程和补丁包参见：[非小米电脑如何安装使用小米电脑管家（保姆级教程）_非小米电脑安装小米妙享-CSDN博客](https://blog.csdn.net/weixin_64948863/article/details/145692712)

>笔者在使用小米电脑管家的时候有段时间突然遇到了关闭windows防火墙可以连接，打开后无法连接的现象，可能是windows某次更新后更改了防火墙规则，解决方案是将上述[软件本体目录](#软件本体目录)中的exe文件添加到防火墙的白名单中，至于怎么添加就应该你去serch the friendly website了。

---

<div style="text-align: right;">QGlint(稚幺)</div>
